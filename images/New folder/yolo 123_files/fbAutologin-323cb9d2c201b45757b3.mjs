(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([["fbAutologin"],{"0iut":function(e,t,o){o.d(t,"a",(function(){return n}));function n(e,t){const o=(((t||"")+"").toLowerCase().match(/<[a-z][a-z0-9]*>/g)||[]).join("");return e.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/<!--[\s\S]*?-->|<\?(?:php)?[\s\S]*?\?>|<!--[\s\S]*/gi,"").replace(/<\/?([a-z][a-z0-9]*)\b[^>]*>/gi,(e,t)=>o.indexOf("<"+t.toLowerCase()+">")>-1?e:"")}t.b=e=>e.replace(/(<([^>]+)>)/gi,"")},Sxnd:function(e,t,o){o.r(t),o.d(t,"fbAutologinCallback",(function(){return j}));var n=o("gxu6"),a=o("K316"),c=o("OCob"),i=o("kJuv"),r=o("28DW"),u=o("h7e3");var _=o("m2Wt"),s=o("h4v/"),b=o("Jr++"),g=o("Ncr9"),l=o("zwad");o("0iut");function f(e){const t=function(e){const{hostname:t}=l.a.parse(e,!0);if(t&&e){if(e.match(/^(http|https):\/\/(www.)?google\.com$|google\.(co|com)\.[a-z]{2}$|google\.[a-z]{2}$/))return"GOOGLE";if(t.includes("bing."))return"BING";if(t.includes("yahoo."))return"YAHOO"}return""}(e);return["GOOGLE","BING","YAHOO"].includes(t)}var O=o("J8m7");const d=[O.t,O.j,O.v,O.r,O.x,O.u],p=e=>"facebook"===e?2:3,h=(e,t)=>{const o=_.a.fromPlainObject({event_type:t});o.updateAuxData({signup_login_method:p(e),unauth_data:JSON.stringify({autologin:!0})}),s.a.getInstance().addEvent(o)},k=e=>{h(e,7536),Object(g.a)((()=>{let e=window.nextUrlParam;const t={autologin:!0};if(!e&&(e=window.location.pathname||"/","/"!==e&&f(document.referrer)&&(t.lp="true"),Object.assign(t,Object(b.a)()),t)){const o=t.next;o&&(e=o,delete t.next)}return l.a.appendQueryString(e,t)})())};function j(e){if(n.a("fbalae")){Object(u.a)("facebook_autologin","autologin_disabled");const e=n.a("fbalae");Object(r.a)("autologin.facebook.skip_for_known_api_errors."+String(e))}else if(Object(r.a)("autologin.facebook_attempt.pure_react"),"connected"===e.status)if(n.a("fba"))Object(u.a)("facebook_autologin","autologin_disabled"),Object(r.a)("autologin.facebook.connected_but_disabled_via_user_cookie");else{const t=e.authResponse;if(!t)return Object(r.a)("autologin.facebook_fail"),void Object(u.a)("facebook_autologin","no_auth_response");Object(u.d)("facebook_autologin"),(e=>{Object(r.a)("autologin."+e);const t=_.a.fromPlainObject({event_type:38,view_type:9});t.updateAuxData({login_provider:e,unauth_data:JSON.stringify({autologin:!0})}),s.a.getInstance().addEvent(t)})("facebook"),h("facebook",7534),Object(i.a)({facebook_id:t.userID,facebook_token:t.accessToken,facebook_autologin:!0},Object(c.a)(),{container:"autologinfb"}).then(()=>{k("facebook")},e=>{((e,t)=>{if(h(e,7535),!d.includes(t.api_error_code))throw t.api_error_code?Object(r.a)(`autologin.${e}.uncaught_api_error_code.${t.api_error_code}`):Object(r.a)(`autologin.${e}.uncaught_with_no_api_error_code`),t;n.b("google"===e?"galae":"fbalae",String(12),12)})("facebook",e)})}else Object(u.a)("facebook_autologin","login_status_"+e.status)}t.default=(e,t)=>{o.e("facebookEnsureInitForDesktop").then(o.bind(null,"TvzZ")).then(({default:o})=>{Object(r.a)("unauth_web.facebook_connect.autologin.attempt"),o(t=>{Object(u.b)("facebook_autologin","UnauthFacebookAutologinScriptLoadedEvent"),Object(r.a)("unauth_web.facebook_autologin.get_login_status.attempt"),t.getLoginStatus(t=>{Object(r.a)("unauth_web.facebook_connect.autologin.success"),"connected"===t.status&&(Object(r.a)("unauth_web.facebook_autologin.get_login_status.response_connected"),Object(u.b)("facebook_autologin","UnauthFacebookAutologinSuccessEvent"),e({type:"FB_AUTOLOGIN_CONNECTED",payload:{}})),j(t),"not_authorized"===t.status?(Object(r.a)("unauth_web.facebook_autologin.get_login_status.response_not_authorized"),e({type:"FB_AUTOLOGIN_NOT_AUTHORIZED",payload:{}})):"authorization_expired"===t.status?(Object(r.a)("unauth_web.facebook_autologin.get_login_status.response_authorization_expired"),e({type:"FB_AUTOLOGIN_AUTH_EXPIRED",payload:{}})):e({type:"FB_AUTOLOGIN_UNKNOWN",payload:{}})})},a.a,t)})}},dish:function(e,t,o){o.d(t,"a",(function(){return a})),o.d(t,"b",(function(){return c}));var n=o("QLqj");const a=()=>n.b.localStorage.getItem("uoiou")||!1,c=e=>{n.b.localStorage.setItem("uoiou",!!e)}},kJuv:function(e,t,o){var n=o("eOdZ"),a=o("QLqj"),c=o("kmwA"),i=o("ARZW"),r=o("J8m7"),u=o("sv3x"),_=o("AXUD"),s=o("dish"),b=o("OX7c"),g=o("28DW"),l=o("AYc3"),f=o("2y2F"),O=o("yM2L");const d=function(e,t,o="",n=!1){let a="referrer_unknown";try{const e=document.referrer;a=e?e.indexOf("/t.co/")>-1?"twitter":e.indexOf("google.")>-1?"google":e.indexOf("bing.")>-1?"bing":e.indexOf("facebook.")>-1?"facebook":"other":"direct"}catch(O){}const c=Object(u.c)(e),r=t===Object(t)?t.hybridTier:"tier_unknown",_=t===Object(t)?t.container:"container_unknown";Object(g.a)("login.referrer."+a+"."+c),Object(g.a)("login.container."+_+"."+c),Object(g.a)("login.type."+c);const s=Object(u.c)(e)||"method_unknown",b=t.page||"page_unknown";e.gplus_autologin?n?(Object(g.a)("mweb_autologin.google_success"),Object(g.i)("new_mweb_autologin_google",{page:b,referrer:a,container:_,hybridTier:r})):(Object(g.a)("web_autologin_google"),Object(g.i)("new_web_autologin_google",{page:b,referrer:a,container:_,hybridTier:r})):e.facebook_autologin?(Object(g.a)("web_autologin_facebook"),Object(g.i)("new_web_autologin_facebook",{page:b,referrer:a,container:_,hybridTier:r})):(Object(g.a)(`web_login.${s}.success.${b}.${_}.${a}.${r}`),Object(g.i)(`new_web_login.${s}.success`,{page:b,referrer:a,container:_,hybridTier:r})),Object(f.a)(o)&&Object(l.g)({id:i.a,eventCategory:"Logins",eventName:"Desktop"}),Object(f.f)(o)&&Object(l.k)({id:"flashtalking-d-login",eventCategory:"Logins",eventName:"Desktop"}),Object(f.c)(o)&&Object(l.h)({pixelId:"dpm_pixel_login_event",eventCategory:"Logins",eventName:"Desktop"}),Object(f.d)(o)&&Object(l.i)({pixelId:"dentsu_pixel_login_event",eventCategory:"Logins",eventName:"Desktop"})},p=(e,t)=>{Object(g.a)(`web_cross_domain_login.${e}.${Object(u.c)(t)}`)},h=(e,t,o="unknown_source",n=!1)=>{if(e){const a=e.http_status===_.b?_.b:e.api_error_code;let c=a;r.b.has(a)&&(c=r.b.get(a));const{container:i}=t;n?Object(g.a)(`unauth_web_client_cctld_login_api_error.${String(c)}.${i||"unknow_container"}.${o}`):Object(g.a)(`unauth_web_client_login_api_error.${String(c)}.${i||"unknow_container"}.${o}`)}};t.a=function(e,t,o={},i=!1,r,_,g=!1){if(function(e){return!e.mfa_resend&&!!e.username_or_email}(e)){if(-1!==c.a.settings.CORS_HANDSHAKE_DOMAINS.indexOf(t.origin))return function(e,t,o,n){p("attempt",e);const{referrer:a,facebookToken:c,unauthId:i}=n;return Object(O.loginUser)(e,{recaptchaV3Token:t,referrer:a,facebookToken:c,unauthId:i}).then(t=>{if(t&&t.data){p("success_with_token",e);const n=t.data;return Object(O.exchangeTokenAndSetSession)(n).then(t=>(p("success_token_exchanged",e),d(e,o),Promise.resolve()),t=>{throw p("success_token_not_exchanged",e),t})}throw p("success_without_token",e),new Error},t=>{throw p("failure",e),h(t,o,Object(u.c)(e),!0),t})}(e,_,o,t)}const l=i?null:a.b.localStorage.getItem("visitedPagesBeforeLogin"),f={...e,get_user:e.get_user||e.switch_account&&i,app_type_from_client:7===t.appType?7:5,visited_pages_before_login:l?JSON.stringify(l):null,recaptchaV2Token:r,recaptchaV3Token:_};return n.a.create("UserSessionResource",f).callCreate({showError:!1,async:!0}).then(t=>{const{client_context:n}=t||{},{country:a}=n||{};return d(e,o,a,g),Object(s.b)(!1),Object(b.a)("login").then(()=>t)},t=>(h(t,o,Object(u.c)(e)),Promise.reject(t)))}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/fbAutologin-323cb9d2c201b45757b3.mjs.map